move_times = {
    1:{1:1, 2:2, 3:3, 4:2, 5:2, 6:3, 7:3, 8:3, 9:3}, 
    2:{1:2, 2:1, 3:2, 4:2, 5:2, 6:2, 7:3, 8:3, 9:3},
    3:{1:3, 2:2, 3:1, 4:3, 5:2, 6:2, 7:3, 8:3, 9:3},
    4:{1:2, 2:2, 3:3, 4:1, 5:2, 6:3, 7:2, 8:2, 9:3},
    5:{1:2, 2:2, 3:2, 4:2, 5:1, 6:2, 7:2, 8:2, 9:2},
    6:{1:3, 2:2, 3:2, 4:3, 5:2, 6:1, 7:3, 8:2, 9:2},
    7:{1:3, 2:3, 3:3, 4:2, 5:2, 6:3, 7:1, 8:2, 9:3},
    8:{1:3, 2:3, 3:3, 4:2, 5:2, 6:2, 7:2, 8:1, 9:2},
    9:{1:3, 2:3, 3:3, 4:3, 5:2, 6:2, 7:3, 8:2, 9:1}
}
N = int(input())
times = list(map(int, input().split()))
dp = [[0]*10 for _ in range(N+1)]

for i in range(10):
    dp[1][i] = 1

for i in range(2, N+1):
    for j in range(1, 10):
        for k in range(1, 10):
            if move_times[k][j] == times[i-2]:
                dp[i][j] += dp[i-1][k]
                
result = sum(dp[N]) % 1000000007
print(result)